<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <section class="packages">
        <div class="heading">
          <h1>wedding SECTION</h1>
        </div>
    
        <div class="packages-box-container">
          <div id="menu"></div>
        </div>
      </section>
      <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-database.js"></script>
      <script src="firebase.js"></script>

      <script>
         var database = firebase.database();

// Fetch menu data from Firebase
var menuRef = database.ref("wedding");
menuRef.once("value", function(snapshot) { // Use once instead of on to fetch the data only once
    var menuData = snapshot.val();

    // Display menu data on the web page
    var menuContainer = document.getElementById("menu");
    menuContainer.innerHTML = "";

    for (var key in menuData) {
        if (menuData.hasOwnProperty(key)) {
            var menuItem = menuData[key];
            var firstImageUrl = Array.isArray(menuItem.images) ? menuItem.images[0] : menuItem.images; // Get the first image URL if it's an array

            var menuItemElement = document.createElement("div");
            menuItemElement.innerHTML = `
            <button class="btn-package" onclick="redirectToUrl('${menuItem.name}')">
                <div class="packagesBox">
                    <div class="image">
                        <img src="${firstImageUrl}" alt="${menuItem.name}" class="menu-image"> 
                    </div>
                    <div class="content">
                        <div class="package-details">    
                            <div class="package-name">    
                                <h2 class="multiline-ellipsis-2">${menuItem.name}</h2>
                            </div>
                            <div class="package-price">        
                                <h4 class="multiline-ellipsis-3">Rs ${menuItem.button1Price}</h4>
                            </div>    
                        </div>    
                    </div>    
                </div> 
            </button>
            `;
            menuContainer.appendChild(menuItemElement);

            // Break the loop after the first iteration
            break;
        }
    }
});

function redirectToUrl(itemName) {
    // Save itemName to localStorage
    localStorage.setItem("itemName", itemName);

    var url = "/weddingg.html";
    window.location.href = url;
}

      </script>
</body>
</html>